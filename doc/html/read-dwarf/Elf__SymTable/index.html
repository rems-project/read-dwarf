<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Elf__SymTable (read-dwarf.Elf__SymTable)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">read-dwarf</a> &#x00BB; Elf__SymTable</nav><h1>Module <code>Elf__SymTable</code></h1><p>The module provide a type to represent a symbol table.</p><p>The interesting operations provided are fetching symbol by name and knowing which symbol owns a specific address</p><p><a href="index.html#val-of_position_string"><code>of_position_string</code></a> provides a convenient way of describing a position in the ELF file from a human text input like the CLI.</p></header><dl><dt class="spec type" id="type-sym"><a href="#type-sym" class="anchor"></a><code><span class="keyword">type</span> sym</code><code> = <a href="../Elf/Symbol/index.html#type-t">Elf.Symbol.t</a></code></dt><dt class="spec type" id="type-linksem_sym"><a href="#type-linksem_sym" class="anchor"></a><code><span class="keyword">type</span> linksem_sym</code><code> = <a href="../Elf/Symbol/index.html#type-linksem_t">Elf.Symbol.linksem_t</a></code></dt><dt class="spec type" id="type-sym_offset"><a href="#type-sym_offset" class="anchor"></a><code><span class="keyword">type</span> sym_offset</code><code> = <a href="index.html#type-sym">sym</a> * int</code></dt><dd><p>The type of a symbol with offset</p></dd></dl><dl><dt class="spec type" id="type-linksem_t"><a href="#type-linksem_t" class="anchor"></a><code><span class="keyword">type</span> linksem_t</code><code> = Elf_file.global_symbol_init_info</code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt><dd><p>The type of a symbol table.</p></dd></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-t">t</a></code></dt><dd><p>The empty symbol table</p></dd></dl><dl><dt class="spec value" id="val-add"><a href="#val-add" class="anchor"></a><code><span class="keyword">val</span> add : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-sym">sym</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Return a new table with the symbol added If there already exists a symbol covering the same area, merge them with <span class="xref-unresolved" title="unresolved reference to &quot;Symbol.other_names&quot;"><code>Symbol</code>.other_names</span></p></dd></dl><dl><dt class="spec value" id="val-of_name"><a href="#val-of_name" class="anchor"></a><code><span class="keyword">val</span> of_name : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-sym">sym</a></code></dt><dd><p>Get a symbol by name. Raise <code>Not_found</code> if no name matches</p></dd></dl><dl><dt class="spec value" id="val-of_name_opt"><a href="#val-of_name_opt" class="anchor"></a><code><span class="keyword">val</span> of_name_opt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span><a href="index.html#type-sym">sym</a> option</span></code></dt><dd><p>Get a symbol by name, None if no name matches</p></dd></dl><dl><dt class="spec value" id="val-of_addr"><a href="#val-of_addr" class="anchor"></a><code><span class="keyword">val</span> of_addr : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-sym">sym</a></code></dt><dd><p>Get the symbol owning that address. Not_found is raised if no symbol own that address.data See <a href="index.html#val-of_addr_opt"><code>of_addr_opt</code></a></p></dd></dl><dl><dt class="spec value" id="val-of_addr_opt"><a href="#val-of_addr_opt" class="anchor"></a><code><span class="keyword">val</span> of_addr_opt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="index.html#type-sym">sym</a> option</span></code></dt><dd><p>Get the symbol owning that address. None if no symbol own that address. See <a href="index.html#val-of_addr"><code>of_addr</code></a></p></dd></dl><dl><dt class="spec value" id="val-of_addr_with_offset"><a href="#val-of_addr_with_offset" class="anchor"></a><code><span class="keyword">val</span> of_addr_with_offset : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-sym_offset">sym_offset</a></code></dt><dd><p>Get a symbol with the offset that correspond to that address</p></dd></dl><dl><dt class="spec value" id="val-of_addr_with_offset_opt"><a href="#val-of_addr_with_offset_opt" class="anchor"></a><code><span class="keyword">val</span> of_addr_with_offset_opt : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><a href="index.html#type-sym_offset">sym_offset</a> option</span></code></dt><dd><p>Get a symbol with the offset that correspond to that address</p></dd></dl><dl><dt class="spec value" id="val-to_addr_offset"><a href="#val-to_addr_offset" class="anchor"></a><code><span class="keyword">val</span> to_addr_offset : <a href="index.html#type-sym_offset">sym_offset</a> <span>&#45;&gt;</span> int</code></dt><dd><p>Get back the raw address from a symbol+offset value</p></dd></dl><dl><dt class="spec value" id="val-string_of_sym_offset"><a href="#val-string_of_sym_offset" class="anchor"></a><code><span class="keyword">val</span> string_of_sym_offset : <a href="index.html#type-sym_offset">sym_offset</a> <span>&#45;&gt;</span> string</code></dt><dd><p>Transform a symbol + offset into the corresponding string</p></dd></dl><dl><dt class="spec value" id="val-sym_offset_of_string"><a href="#val-sym_offset_of_string" class="anchor"></a><code><span class="keyword">val</span> sym_offset_of_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-sym_offset">sym_offset</a></code></dt><dd><p>Transform a symbol + offset string into the actual symbol and the integer offset</p></dd></dl><dl><dt class="spec value" id="val-of_position_string"><a href="#val-of_position_string" class="anchor"></a><code><span class="keyword">val</span> of_position_string : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-sym_offset">sym_offset</a></code></dt><dd><p>Convert a position string to a symbol + offset</p><p>A position string is a string describing a position in an ELF file. Two format are accepted for now:</p><ul><li>A raw address of the form &quot;0x40cafe&quot;</li><li>A symbol name with optional offset like &quot;sym&quot; or &quot;sym+4&quot; or &quot;sym+0x4&quot;</li></ul></dd></dl><dl><dt class="spec value" id="val-of_linksem"><a href="#val-of_linksem" class="anchor"></a><code><span class="keyword">val</span> of_linksem : <span><a href="../Elf/Segment/index.html#type-t">Elf.Segment.t</a> list</span> <span>&#45;&gt;</span> <a href="index.html#type-linksem_t">linksem_t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Extract the symbol from the linksem symbol representation.</p><p>Need the segments for filling the missing symbol data</p></dd></dl><dl><dt class="spec value" id="val-pp_raw"><a href="#val-pp_raw" class="anchor"></a><code><span class="keyword">val</span> pp_raw : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dd><p>Pretty print the table as a raw ocaml value</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span>(<a href="index.html#type-sym">sym</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Iterate through all the symbols in the table.</p></dd></dl><dl><dt class="spec value" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span class="keyword">val</span> fold : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-sym">sym</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Fold over all the symbols in the table.</p></dd></dl></div></body></html>