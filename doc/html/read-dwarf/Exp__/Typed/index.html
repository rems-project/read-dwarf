<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Typed (read-dwarf.Exp__.Typed)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Exp__</a> &#x00BB; Typed</nav><h1>Module <code>Exp__.Typed</code></h1><nav class="toc"><ul><li><a href="#generic-operation-on-types">Generic operation on types</a></li><li><a href="#generic-constructors">Generic constructors</a></li><li><a href="#specific-constructors">Specific constructors</a></li><li><a href="#add-types">Add types</a></li></ul></nav></header><aside><p>This module provide operation on typed expressions i.e expressions whose annotations are their SMT type (<a href="../../Ast/index.html#type-ty"><code>Ast.ty</code></a>).</p></aside><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>('v, 'm) t</span></code><code> = <span><span>(<span><span class="type-var">'m</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span>, <span class="type-var">'v</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <span class="type-var">'m</span>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span></code></dt><dd><p>The type for a typed expression.</p><ul><li>The <code>'v</code> type is the type of expression variable.</li><li>The <code>'m</code> type should be either <a href="../../Ast/index.html#type-no"><code>Ast.no</code></a> if memory operation are disabled or <a href="../../Ast/Size/index.html#type-t"><code>Ast.Size.t</code></a> if they are enabled.</li></ul><p>The let bindings are always disabled.</p></dd></dl><section><header><h2 id="generic-operation-on-types"><a href="#generic-operation-on-types" class="anchor"></a>Generic operation on types</h2></header><dl><dt class="spec value" id="val-get_type"><a href="#val-get_type" class="anchor"></a><code><span class="keyword">val</span> get_type : <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'m</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span></code></dt><dd><p>Get the type of a typed expression. Specialized version of <a href="../../Ast/Manip/index.html#val-annot_exp"><code>Ast.Manip.annot_exp</code></a></p></dd></dl><dl><dt class="spec value" id="val-is_bool"><a href="#val-is_bool" class="anchor"></a><code><span class="keyword">val</span> is_bool : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_bv"><a href="#val-is_bv" class="anchor"></a><code><span class="keyword">val</span> is_bv : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-is_enum"><a href="#val-is_enum" class="anchor"></a><code><span class="keyword">val</span> is_enum : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-expect_bool"><a href="#val-expect_bool" class="anchor"></a><code><span class="keyword">val</span> expect_bool : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-expect_bv"><a href="#val-expect_bv" class="anchor"></a><code><span class="keyword">val</span> expect_bv : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> int</code></dt><dt class="spec value" id="val-expect_enum"><a href="#val-expect_enum" class="anchor"></a><code><span class="keyword">val</span> expect_enum : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span> <span>&#45;&gt;</span> int</code></dt></dl></section><section><header><h2 id="generic-constructors"><a href="#generic-constructors" class="anchor"></a>Generic constructors</h2><p>This constuctors build a new expression as required, and compute the new type. They assume the operation is well typed (They assert it).</p></header><dl><dt class="spec value" id="val-var"><a href="#val-var" class="anchor"></a><code><span class="keyword">val</span> var : <span>typ:<span><span class="type-var">'m</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span></span> <span>&#45;&gt;</span> <span class="type-var">'v</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-bits"><a href="#val-bits" class="anchor"></a><code><span class="keyword">val</span> bits : <a href="../../Utils/BitVec/index.html#type-t">Utils.BitVec.t</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : bool <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-enum"><a href="#val-enum" class="anchor"></a><code><span class="keyword">val</span> enum : <a href="../../Ast/index.html#type-enum">Ast.enum</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-vec_idx_type"><a href="#val-vec_idx_type" class="anchor"></a><code><span class="keyword">val</span> vec_idx_type : <span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span></code></dt><dd><p>This is completely arbitrary, because it is not currently used.</p></dd></dl><dl><dt class="spec value" id="val-vec"><a href="#val-vec" class="anchor"></a><code><span class="keyword">val</span> vec : <span><span><span>(<span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span>, <span class="type-var">'b</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <span class="type-var">'a</span>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span> list</span> <span>&#45;&gt;</span> <span><span>(<span><span class="type-var">'a</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span>, <span class="type-var">'b</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <span class="type-var">'a</span>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span></code></dt><dt class="spec value" id="val-unop"><a href="#val-unop" class="anchor"></a><code><span class="keyword">val</span> unop : <a href="../../Ast/index.html#type-unop">Ast.unop</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-binop"><a href="#val-binop" class="anchor"></a><code><span class="keyword">val</span> binop : <span><span class="type-var">'m</span> <a href="../../Ast/index.html#type-binop">Ast.binop</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-manyop"><a href="#val-manyop" class="anchor"></a><code><span class="keyword">val</span> manyop : <a href="../../AstGen/Ott/index.html#type-manyop">AstGen.Ott.manyop</a> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>In addition to well-typedness requirement, this function will throw <code>Invalid_argument</code> if the list is empty. If the list has a single element, it will just return that element instead of building the symbolic operation.</p></dd></dl><dl><dt class="spec value" id="val-ite"><a href="#val-ite" class="anchor"></a><code><span class="keyword">val</span> ite : <span>cond:<span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl></section><section><header><h2 id="specific-constructors"><a href="#specific-constructors" class="anchor"></a>Specific constructors</h2></header><dl><dt class="spec value" id="val-bits_int"><a href="#val-bits_int" class="anchor"></a><code><span class="keyword">val</span> bits_int : <span>size:int</span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-bits_smt"><a href="#val-bits_smt" class="anchor"></a><code><span class="keyword">val</span> bits_smt : string <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-zero"><a href="#val-zero" class="anchor"></a><code><span class="keyword">val</span> zero : <span>size:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-true_"><a href="#val-true_" class="anchor"></a><code><span class="keyword">val</span> true_ : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-false_"><a href="#val-false_" class="anchor"></a><code><span class="keyword">val</span> false_ : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(+)"><a href="#val-(+)" class="anchor"></a><code><span class="keyword">val</span> (+) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sum"><a href="#val-sum" class="anchor"></a><code><span class="keyword">val</span> sum : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sub"><a href="#val-sub" class="anchor"></a><code><span class="keyword">val</span> sub : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(-)"><a href="#val-(-)" class="anchor"></a><code><span class="keyword">val</span> (-) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(*)"><a href="#val-(*)" class="anchor"></a><code><span class="keyword">val</span> (*) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-prod"><a href="#val-prod" class="anchor"></a><code><span class="keyword">val</span> prod : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-sdiv"><a href="#val-sdiv" class="anchor"></a><code><span class="keyword">val</span> sdiv : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-not"><a href="#val-not" class="anchor"></a><code><span class="keyword">val</span> not : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-neg"><a href="#val-neg" class="anchor"></a><code><span class="keyword">val</span> neg : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-extract"><a href="#val-extract" class="anchor"></a><code><span class="keyword">val</span> extract : <span>first:int</span> <span>&#45;&gt;</span> <span>last:int</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-eq"><a href="#val-eq" class="anchor"></a><code><span class="keyword">val</span> eq : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-(=)"><a href="#val-(=)" class="anchor"></a><code><span class="keyword">val</span> (=) : <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span class="keyword">val</span> concat : <span><span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> list</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dt class="spec value" id="val-comp"><a href="#val-comp" class="anchor"></a><code><span class="keyword">val</span> comp : <a href="../../Ast/index.html#type-bvcomp">Ast.bvcomp</a> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> <a href="index.html#type-t">t</a></span></code></dt></dl></section><section><header><h2 id="add-types"><a href="#add-types" class="anchor"></a>Add types</h2></header><dl><dt class="spec value" id="val-add_type"><a href="#val-add_type" class="anchor"></a><code><span class="keyword">val</span> add_type : a v m. <span>ty_of_var:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'v</span> <span>&#45;&gt;</span> <span><span class="type-var">'m</span> <a href="../../Ast/index.html#type-ty">Ast.ty</a></span>)</span></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'v</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <span class="type-var">'m</span>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Replace the annotation of expression by the SMT types. The expression must be already well typed (you can trust the SMT solver on this one)</p><p>It will still <code>assert</code> that an expression is well typed as a side effect.</p></dd></dl><dl><dt class="spec value" id="val-is_well_typed"><a href="#val-is_well_typed" class="anchor"></a><code><span class="keyword">val</span> is_well_typed : <span><span>(<span class="type-var">'v</span>, <span class="type-var">'m</span>)</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Check if an expression is well typed</p></dd></dl></section></div></body></html>