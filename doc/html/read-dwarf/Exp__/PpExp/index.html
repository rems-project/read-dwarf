<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PpExp (read-dwarf.Exp__.PpExp)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Exp__</a> &#x00BB; PpExp</nav><h1>Module <code>Exp__.PpExp</code></h1><nav class="toc"><ul><li><a href="#precedence">Precedence</a></li><li><a href="#actual-pretty-printing">Actual Pretty printing</a></li></ul></nav></header><aside><p>This module provides a human readable pretty printing for <a href="../../Ast/index.html"><code>Ast</code></a> expressions</p><p>If you don't want to bother with details, use <code>pp_exp</code> and don't read the rest.</p><p>The precedence are the ones from C/C++ and Ocaml with some tweaks. In particular the precedence between bitwise operation and arithmetic operation are separated, so parenthesis will always be required between them.</p><p>The order is:</p><ul><li>Extraction and extension</li><li>Concatenation</li><li>unary minus, unary bitwise negation, unary reduction</li><li>multiplications, divisions, separately shift</li><li>additions, substractions, separately bitwise operation</li><li>comparisons</li><li>equality</li><li>and</li><li>or</li><li>ifs</li></ul><p>Unary operator cannot linebreak (but their content can)</p><p>Examples:</p><ul><li><code>-a[1-3].2a:6[z+32]</code> which is: <code>(bvneg (concat ((_ extract 3 1) a) ((_ zero_extend 32) #b101010)))</code></li></ul></aside><section><header><h2 id="precedence"><a href="#precedence" class="anchor"></a>Precedence</h2></header><dl><dt class="spec type" id="type-prec"><a href="#type-prec" class="anchor"></a><code><span class="keyword">type</span> prec</code><code> = </code><table class="variant"><tr id="type-prec.IF" class="anchored"><td class="def constructor"><a href="#type-prec.IF" class="anchor"></a><code>| </code><code><span class="constructor">IF</span></code></td></tr><tr id="type-prec.OR" class="anchored"><td class="def constructor"><a href="#type-prec.OR" class="anchor"></a><code>| </code><code><span class="constructor">OR</span></code></td></tr><tr id="type-prec.AND" class="anchored"><td class="def constructor"><a href="#type-prec.AND" class="anchor"></a><code>| </code><code><span class="constructor">AND</span></code></td></tr><tr id="type-prec.EQ" class="anchored"><td class="def constructor"><a href="#type-prec.EQ" class="anchor"></a><code>| </code><code><span class="constructor">EQ</span></code></td></tr><tr id="type-prec.COMP" class="anchored"><td class="def constructor"><a href="#type-prec.COMP" class="anchor"></a><code>| </code><code><span class="constructor">COMP</span></code></td></tr><tr id="type-prec.ADD" class="anchored"><td class="def constructor"><a href="#type-prec.ADD" class="anchor"></a><code>| </code><code><span class="constructor">ADD</span></code></td></tr><tr id="type-prec.MUL" class="anchored"><td class="def constructor"><a href="#type-prec.MUL" class="anchor"></a><code>| </code><code><span class="constructor">MUL</span></code></td></tr><tr id="type-prec.BITS" class="anchored"><td class="def constructor"><a href="#type-prec.BITS" class="anchor"></a><code>| </code><code><span class="constructor">BITS</span></code></td></tr><tr id="type-prec.SHIFTS" class="anchored"><td class="def constructor"><a href="#type-prec.SHIFTS" class="anchor"></a><code>| </code><code><span class="constructor">SHIFTS</span></code></td></tr><tr id="type-prec.UNARY" class="anchored"><td class="def constructor"><a href="#type-prec.UNARY" class="anchor"></a><code>| </code><code><span class="constructor">UNARY</span></code></td></tr><tr id="type-prec.CONCAT" class="anchored"><td class="def constructor"><a href="#type-prec.CONCAT" class="anchor"></a><code>| </code><code><span class="constructor">CONCAT</span></code></td></tr><tr id="type-prec.EXTRACT" class="anchored"><td class="def constructor"><a href="#type-prec.EXTRACT" class="anchor"></a><code>| </code><code><span class="constructor">EXTRACT</span></code></td></tr><tr id="type-prec.PARENS" class="anchored"><td class="def constructor"><a href="#type-prec.PARENS" class="anchor"></a><code>| </code><code><span class="constructor">PARENS</span></code></td></tr></table></dt><dd><p>The operators possible precedence</p></dd></dl><dl><dt class="spec value" id="val-compat"><a href="#val-compat" class="anchor"></a><code><span class="keyword">val</span> compat : <span>outer:<a href="index.html#type-prec">prec</a></span> <span>&#45;&gt;</span> <span>inner:<a href="index.html#type-prec">prec</a></span> <span>&#45;&gt;</span> bool</code></dt><dd><p>Figure out if an expression of precedence <code>inner</code> in an expression of precedence <code>outer</code> needs parentheses</p></dd></dl><dl><dt class="spec value" id="val-prec_unop"><a href="#val-prec_unop" class="anchor"></a><code><span class="keyword">val</span> prec_unop : <a href="../../Ast/index.html#type-unop">Ast.unop</a> <span>&#45;&gt;</span> <a href="index.html#type-prec">prec</a></code></dt><dt class="spec value" id="val-prec_bvarith"><a href="#val-prec_bvarith" class="anchor"></a><code><span class="keyword">val</span> prec_bvarith : <a href="../../Ast/index.html#type-bvarith">Ast.bvarith</a> <span>&#45;&gt;</span> <a href="index.html#type-prec">prec</a></code></dt><dt class="spec value" id="val-prec_binop"><a href="#val-prec_binop" class="anchor"></a><code><span class="keyword">val</span> prec_binop : <span><a href="../../Ast/index.html#type-no">Ast.no</a> <a href="../../Ast/index.html#type-binop">Ast.binop</a></span> <span>&#45;&gt;</span> <a href="index.html#type-prec">prec</a></code></dt><dt class="spec value" id="val-prec_bvmanyarith"><a href="#val-prec_bvmanyarith" class="anchor"></a><code><span class="keyword">val</span> prec_bvmanyarith : <a href="../../Ast/index.html#type-bvmanyarith">Ast.bvmanyarith</a> <span>&#45;&gt;</span> <a href="index.html#type-prec">prec</a></code></dt><dt class="spec value" id="val-prec_manyop"><a href="#val-prec_manyop" class="anchor"></a><code><span class="keyword">val</span> prec_manyop : <a href="../../Ast/index.html#type-manyop">Ast.manyop</a> <span>&#45;&gt;</span> <a href="index.html#type-prec">prec</a></code></dt></dl></section><section><header><h2 id="actual-pretty-printing"><a href="#actual-pretty-printing" class="anchor"></a>Actual Pretty printing</h2></header><dl><dt class="spec value" id="val-pp_bits"><a href="#val-pp_bits" class="anchor"></a><code><span class="keyword">val</span> pp_bits : <a href="../../Utils/BitVec/index.html#type-t">Utils.BitVec.t</a> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-ppnot"><a href="#val-ppnot" class="anchor"></a><code><span class="keyword">val</span> ppnot : <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-pp_unop"><a href="#val-pp_unop" class="anchor"></a><code><span class="keyword">val</span> pp_unop : <a href="../../Ast/index.html#type-unop">Ast.unop</a> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-sym_bvarith"><a href="#val-sym_bvarith" class="anchor"></a><code><span class="keyword">val</span> sym_bvarith : <a href="../../Ast/index.html#type-bvarith">Ast.bvarith</a> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-sym_bvcomp"><a href="#val-sym_bvcomp" class="anchor"></a><code><span class="keyword">val</span> sym_bvcomp : <a href="../../Ast/index.html#type-bvcomp">Ast.bvcomp</a> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-pp_binop"><a href="#val-pp_binop" class="anchor"></a><code><span class="keyword">val</span> pp_binop : <span><a href="../../Ast/index.html#type-no">Ast.no</a> <a href="../../Ast/index.html#type-binop">Ast.binop</a></span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-sym_bvmanyarith"><a href="#val-sym_bvmanyarith" class="anchor"></a><code><span class="keyword">val</span> sym_bvmanyarith : <a href="../../Ast/index.html#type-bvmanyarith">Ast.bvmanyarith</a> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-pp_manyop"><a href="#val-pp_manyop" class="anchor"></a><code><span class="keyword">val</span> pp_manyop : <a href="../../Ast/index.html#type-manyop">Ast.manyop</a> <span>&#45;&gt;</span> <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-pp_if"><a href="#val-pp_if" class="anchor"></a><code><span class="keyword">val</span> pp_if : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dt class="spec value" id="val-pp_exp_prec"><a href="#val-pp_exp_prec" class="anchor"></a><code><span class="keyword">val</span> pp_exp_prec : <span>(<span class="type-var">'v</span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'v</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <a href="../../Ast/index.html#type-no">Ast.no</a>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document * <a href="index.html#type-prec">prec</a></code></dt><dd><p>Pretty print an expression and return its precedence</p></dd></dl><dl><dt class="spec value" id="val-pp_exp"><a href="#val-pp_exp" class="anchor"></a><code><span class="keyword">val</span> pp_exp : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'b</span>, <span class="type-var">'a</span>, <a href="../../Ast/index.html#type-no">Ast.no</a>, <a href="../../Ast/index.html#type-no">Ast.no</a>)</span> <a href="../../Ast/index.html#type-exp">Ast.exp</a></span> <span>&#45;&gt;</span> <a href="../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dd><p>The main function for pretty printing an expression</p></dd></dl></section></div></body></html>