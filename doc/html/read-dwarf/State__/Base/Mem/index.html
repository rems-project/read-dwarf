<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mem (read-dwarf.State__.Base.Mem)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">read-dwarf</a> &#x00BB; <a href="../../index.html">State__</a> &#x00BB; <a href="../index.html">Base</a> &#x00BB; Mem</nav><h1>Module <code>Base.Mem</code></h1><p>This module manages the memory part of the state.</p><p>The symbolic memory bounds certain symbolic address to symbolic values, but most addresses are not bound. This basically correspond to a concrete instantiation of a <a href="../../SymbolicFragment/index.html"><code>SymbolicFragment</code></a>.</p><p>However in most case, we have some information that some symbolic value do not alias other symbolic values.For example in no address involving the stack pointer may alias any address no involving the stack pointer except in specific case of escaping which are explicitly not supported (yet). It is intended to support escaping later. There can be other kind of non-aliasing information in case of explicit <code>restrict</code> annotation or when implicitly passing or returning value by pointer (which some ABI do when such value are too big).</p><p>In the absence of escaping, such problem can be solved by representing the memory with multiple <a href="../../SymbolicFragment/index.html"><code>SymbolicFragment</code></a>. One for the main memory, and one for each &quot;restricted block&quot;. The module encapsulate all those different fragment.</p><p>To manage such a system, we use the C type system to carry around provenance information in the type <a href="../../../Ctype/index.html#type-provenance"><code>Ctype.provenance</code></a>. When doing a <a href="../index.html#val-read"><code>read</code></a> or a <a href="../index.html#val-write"><code>write</code></a>, this provenance is used to route the read or write to the right symbolic block.</p><p>This means that the provenance-tracking part of the C type system must be part of the TCB of read-dwarf as the soundness of the symbolic memory model depend on it.</p><p>Finally, the current implementation is only suitable for sequential execution, a new theoretical model and implementation must be developed for concurrent shared memory.</p><p>Implementation detail: This type has an imperative interface even if the underlying <a href="../../SymbolicFragment/index.html"><code>SymbolicFragment</code></a> has a pure interface.</p></header><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-new_frag"><a href="#val-new_frag" class="anchor"></a><code><span class="keyword">val</span> new_frag : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../index.html#type-exp">exp</a> <span>&#45;&gt;</span> <a href="../../../Ctype/index.html#type-provenance">Ctype.provenance</a></code></dt><dd><p>Add a new fragment with the specified base</p></dd></dl><div class="spec module" id="module-Fragment"><a href="#module-Fragment" class="anchor"></a><code><span class="keyword">module</span> <a href="Fragment/index.html">Fragment</a> : <a href="../../SymbolicFragment/index.html#module-type-S">State__.SymbolicFragment.S</a> <span class="keyword">with</span> <span class="keyword">type</span> <a href="../../SymbolicFragment/module-type-S/index.html#type-var">var</a> = <a href="../Var/index.html#type-t">Var.t</a></code></div><dl><dt class="spec value" id="val-get_main"><a href="#val-get_main" class="anchor"></a><code><span class="keyword">val</span> get_main : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="Fragment/index.html#type-t">Fragment.t</a></code></dt><dd><p>Get the main fragment of memory</p></dd></dl></div></body></html>