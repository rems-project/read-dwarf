<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Sig (read-dwarf.Sig)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">read-dwarf</a> &#x00BB; Sig</nav><h1>Module <code>Sig</code></h1><p>This module define all architecture-dependent configuration</p><p>It should be used instead of <a href="../Arch/index.html"><code>Arch</code></a> inside the architecture dependent modules.</p><p>Everything inside this module is copied into <a href="../Arch/index.html"><code>Arch</code></a>, so module that can depend on <a href="../Arch/index.html"><code>Arch</code></a> may do so.</p></header><dl><dt class="spec type" id="type-func_api"><a href="#type-func_api" class="anchor"></a><code><span class="keyword">type</span> func_api</code><code> = </code><code>{</code><table class="record"><tr id="type-func_api.args" class="anchored"><td class="def field"><a href="#type-func_api.args" class="anchor"></a><code>args : <span><a href="../Ctype/index.html#type-t">Ctype.t</a> list</span>;</code></td></tr><tr id="type-func_api.ret" class="anchored"><td class="def field"><a href="#type-func_api.ret" class="anchor"></a><code>ret : <span><a href="../Ctype/index.html#type-t">Ctype.t</a> option</span>;</code></td></tr></table><code>}</code></dt><dd><p>Describe the C API of a function</p></dd></dl><dl><dt class="spec type" id="type-func_abi"><a href="#type-func_abi" class="anchor"></a><code><span class="keyword">type</span> func_abi</code><code> = </code><code>{</code><table class="record"><tr id="type-func_abi.init" class="anchored"><td class="def field"><a href="#type-func_abi.init" class="anchor"></a><code>init : <a href="../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../State/index.html#type-t">State.t</a>;</code></td><td class="doc"><p>Gives the initial state for verifying the function, from a given global register state. Only global registers are kept.</p></td></tr></table><code>}</code></dt><dd><p>Describe the ABI of a function</p><p>This is a record because I expect to add many other fields later.</p></dd></dl><dl><dt class="spec type" id="type-dwarf_reg_map"><a href="#type-dwarf_reg_map" class="anchor"></a><code><span class="keyword">type</span> dwarf_reg_map</code><code> = <span><a href="../State/Reg/index.html#type-t">State.Reg.t</a> array</span></code></dt><dd><p>The map of dwarf register: Which register number map to which ISA register</p></dd></dl><dl><dt class="spec value" id="val-supports"><a href="#val-supports" class="anchor"></a><code><span class="keyword">val</span> supports : <a href="../Config/Arch/index.html#type-t">Config.Arch.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Tells if this Arch module supports this architecture</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : <a href="../Config/Arch/index.html#type-t">Config.Arch.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>If this arch module <a href="index.html#val-supports"><code>supports</code></a> the architecture, then initialize read-dwarf state using this architecture</p></dd></dl><dl><dt class="spec value" id="val-initialized"><a href="#val-initialized" class="anchor"></a><code><span class="keyword">val</span> initialized : unit <span>&#45;&gt;</span> <span><a href="../Config/Arch/index.html#type-t">Config.Arch.t</a> option</span></code></dt><dd><p>Return <code>Some(arch)</code> is the loaded arch is <code>arch</code> and <code>None</code> if nothing is loaded yet.</p></dd></dl><dl><dt class="spec value" id="val-module_name"><a href="#val-module_name" class="anchor"></a><code><span class="keyword">val</span> module_name : string</code></dt><dd><p>The name of the arch module. Must be the name of the module i.e. <code>Config.arch_module</code></p></dd></dl><dl><dt class="spec value" id="val-loaded_name"><a href="#val-loaded_name" class="anchor"></a><code><span class="keyword">val</span> loaded_name : string</code></dt><dd><p>For dynamic arch module, the name of the dynamically loaded module. Otherwise <a href="index.html#val-module_name"><code>module_name</code></a></p></dd></dl><dl><dt class="spec value" id="val-address_size"><a href="#val-address_size" class="anchor"></a><code><span class="keyword">val</span> address_size : int</code></dt><dd><p>The true size of addresses for memory operation</p></dd></dl><dl><dt class="spec value" id="val-dwarf_reg_map"><a href="#val-dwarf_reg_map" class="anchor"></a><code><span class="keyword">val</span> dwarf_reg_map : unit <span>&#45;&gt;</span> <a href="index.html#type-dwarf_reg_map">dwarf_reg_map</a></code></dt><dd><p>Get the register map of the architecture</p></dd></dl><dl><dt class="spec value" id="val-is_local"><a href="#val-is_local" class="anchor"></a><code><span class="keyword">val</span> is_local : <a href="../State/Reg/index.html#type-t">State.Reg.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Tell if a register is local for the ABI</p></dd></dl><dl><dt class="spec value" id="val-nop"><a href="#val-nop" class="anchor"></a><code><span class="keyword">val</span> nop : unit <span>&#45;&gt;</span> <a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a></code></dt><dd><p>Give the opcode of the nop instruction (For Sail/Isla initialisation</p></dd></dl><dl><dt class="spec value" id="val-get_abi"><a href="#val-get_abi" class="anchor"></a><code><span class="keyword">val</span> get_abi : <a href="index.html#type-func_api">func_api</a> <span>&#45;&gt;</span> <a href="index.html#type-func_abi">func_abi</a></code></dt><dd><p>Give the ABI of a function from it's C API</p></dd></dl><dl><dt class="spec value" id="val-pc"><a href="#val-pc" class="anchor"></a><code><span class="keyword">val</span> pc : unit <span>&#45;&gt;</span> <a href="../State/Reg/index.html#type-t">State.Reg.t</a></code></dt><dd><p>Give the register index for the program counter</p></dd></dl><dl><dt class="spec value" id="val-sp"><a href="#val-sp" class="anchor"></a><code><span class="keyword">val</span> sp : unit <span>&#45;&gt;</span> <a href="../State/Reg/index.html#type-t">State.Reg.t</a></code></dt><dd><p>Give the register index for the stack pointer</p></dd></dl><dl><dt class="spec value" id="val-assemble_to_elf"><a href="#val-assemble_to_elf" class="anchor"></a><code><span class="keyword">val</span> assemble_to_elf : string <span>&#45;&gt;</span> string</code></dt><dd><p>Take an instruction string and give the name of an temporary ELF file created that contains the instruction at symbol instr.</p></dd></dl><dl><dt class="spec value" id="val-split_into_instrs"><a href="#val-split_into_instrs" class="anchor"></a><code><span class="keyword">val</span> split_into_instrs : <a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> <span>&#45;&gt;</span> <span><a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> list</span></code></dt><dd><p>Split a byte-sequence into a list of instructions.</p></dd></dl><dl><dt class="spec value" id="val-is_ret"><a href="#val-is_ret" class="anchor"></a><code><span class="keyword">val</span> is_ret : <a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> <span>&#45;&gt;</span> bool</code></dt><dd><p>Tell if an instruction is a return instruction.</p></dd></dl><dl><dt class="spec value" id="val-is_cmp"><a href="#val-is_cmp" class="anchor"></a><code><span class="keyword">val</span> is_cmp : <a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> <span>&#45;&gt;</span> <span><span>(<a href="../State/Reg/index.html#type-t">State.Reg.t</a> * <a href="../Utils/BitVec/index.html#type-t">Utils.BitVec.t</a>)</span> option</span></code></dt><dd><p>Tell if an instruction is a compare instruction. Returns <code>Some (reg,bv)</code> where the contents of <code>reg</code> are compared against the value <code>bv</code> if it is and <code>None</code> if not.</p></dd></dl><dl><dt class="spec value" id="val-is_bl"><a href="#val-is_bl" class="anchor"></a><code><span class="keyword">val</span> is_bl : <a href="../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> <span>&#45;&gt;</span> <span><a href="../Utils/BitVec/index.html#type-t">Utils.BitVec.t</a> option</span></code></dt><dd><p>Tell if an instruction is an (unconditional) branch on immediate with link instructions. Returns <code>Some bv</code> where <code>bv</code> is the offset (from the address of this instruction, in the range +/-128MB) that is branched to if it is and <code>None</code> if not.</p></dd></dl></div></body></html>